{% extends "base.html" %}
{% block title %}sponpon – Marketplace{% endblock %}

{% block content %}

<!-- ===================== HERO ===================== -->
<section class="hero-section">
  <div class="container">
    <div class="row align-items-center g-lg-5 g-4">

      <div class="col-lg-6">
        <h1 class="hero-title fw-bold mb-3">
          Vaša značka pri <span class="accent">každom rozhodujúcom momente</span>
        </h1>
        <p class="lead text-secondary mb-4">
          Kontinuálna viditeľnosť naprieč športami – lokálny PR zásah + digitálny výkon v jednom portfóliu.
        </p>

        <div class="d-flex flex-wrap gap-2 mb-3">
          <a href="#" class="btn btn-brand btn-xlg">
            <i class="bi bi-grid-3x3-gap me-1"></i> Postaviť portfólio
          </a>
          <a href="#how" class="btn btn-ghost-brand btn-xlg">
            <i class="bi bi-lightning-charge me-1"></i> Ako to funguje
          </a>
        </div>

        <div class="pill-row">
          <span class="chip"><i class="bi bi-file-earmark-text"></i> Zmluvy & prerozdelenie</span>
          <span class="chip"><i class="bi bi-activity"></i> Reporty & atribúcia</span>
          <span class="chip"><i class="bi bi-people"></i> Komunita</span>
        </div>
      </div>

      <div class="col-lg-6">
        <figure class="hero-media">
          <img class="hero-img" src="{{ url_for('static', filename='hero-photo.png') }}" alt="Športový vizuál" loading="eager">
          <div class="orbit-chip oc-top"><i class="bi bi-broadcast-pin"></i> Livestream</div>
          <div class="orbit-chip oc-left"><i class="bi bi-badge-ad"></i> Logo na drese</div>
          <div class="orbit-chip oc-right"><i class="bi bi-camera-reels"></i> IG Reels</div>
          <div class="orbit-chip oc-tr"><i class="bi bi-building"></i> Branding v hale</div>
          <div class="orbit-chip oc-bottom"><i class="bi bi-tiktok"></i> TikTok klipy</div>
        </figure>
      </div>

    </div>
  </div>
</section>

<!-- ===================== PARTNERS ===================== -->
<section class="py-4 bg-white border-top border-bottom">
  <div class="container">
    <div class="d-flex flex-wrap justify-content-center align-items-center gap-4 partners-row">
      {% for slug in partners %}
        <img class="partner-icon" src="https://cdn.simpleicons.org/{{ slug }}" alt="{{ slug }} logo" height="34">
      {% endfor %}
    </div>
  </div>
</section>

<!-- ===================== PLATFORM HIGHLIGHTS ===================== -->
<section class="platform-grid-section py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="h4 fw-bold brand-color mb-2">Platforma, ktorá drží portfólio pokope</h2>
      <p class="text-secondary mb-0">7 highlightov – svetlý „Supabase-feel“, vyskladané pre potreby veľkých firiem.</p>
    </div>

    <div class="platform-grid">
      <!-- 1) VYHĽADÁVANIE – ŠIROKÁ (½) s pôvodným širokým grafom -->
      <article class="ph-card span-6 has-art-br">
        <div class="ph-icon-wrap"><i class="bi bi-search ph-icon"></i></div>
        <h3 class="ph-title">Vyhľadávanie & matching</h3>
        <p class="ph-text">Nájdite kluby a tvorcov podľa športu, regiónu, publika a cieľov kampane. Odporučíme najlepšie zhody.</p>
        <ul class="ph-list">
          <li><i class="bi bi-check2"></i> filtre: šport, región, demografia, formát</li>
          <li><i class="bi bi-check2"></i> skóre zhody podľa cieľov</li>
          <li><i class="bi bi-check2"></i> alternatívy pri kolíziách termínov</li>
        </ul>
        <svg class="ph-art fullw" viewBox="0 0 800 120" preserveAspectRatio="none" aria-hidden="true">
          <defs>
            <linearGradient id="lineFill" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0" stop-color="rgba(119,75,251,.14)"/>
              <stop offset="1" stop-color="rgba(119,75,251,0)"/>
            </linearGradient>
          </defs>
          <polyline fill="none" stroke="rgba(119,75,251,.45)" stroke-width="3"
            points="0,90 100,72 200,82 300,60 400,68 500,52 600,58 700,48 800,54"/>
          <polygon fill="url(#lineFill)"
            points="0,120 0,90 100,72 200,82 300,60 400,68 500,52 600,58 700,48 800,54 800,120"/>
          <g fill="rgba(119,75,251,.38)">
            <circle cx="100" cy="72" r="5"/><circle cx="200" cy="82" r="5"/><circle cx="300" cy="60" r="5"/>
            <circle cx="400" cy="68" r="5"/><circle cx="500" cy="52" r="5"/><circle cx="600" cy="58" r="5"/>
            <circle cx="700" cy="48" r="5"/>
          </g>
        </svg>
      </article>

      <!-- 2) PORTFÓLIO NA MIERU -->
      <article class="ph-card span-3 has-art-tr">
        <div class="ph-icon-wrap"><i class="bi bi-columns-gap ph-icon"></i></div>
        <h3 class="ph-title">Portfólio na mieru</h3>
        <p class="ph-text">Navrhneme mix klubov & tvorcov podľa rozpočtu. Úpravy jedným klikom, bez chaosu.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> automatický návrh + manuálne úpravy</li>
          <li><i class="bi bi-check2"></i> balans PR zásahu vs. výkon</li>
          <li><i class="bi bi-check2"></i> kontrola duplicít a kolízií</li>
        </ul>
        <svg class="ph-art tr" viewBox="0 0 140 70" aria-hidden="true">
          <rect x="6"  y="6"  width="54" height="18" rx="9"  fill="rgba(119,75,251,.15)"/>
          <rect x="64" y="6"  width="38" height="18" rx="9"  fill="rgba(119,75,251,.10)"/>
          <rect x="106" y="6" width="28" height="18" rx="9"  fill="rgba(119,75,251,.15)"/>
          <rect x="32" y="38" width="78" height="12" rx="6"  fill="rgba(119,75,251,.12)"/>
        </svg>
      </article>

      <!-- 3) VIDITEĽNOSŤ ZNAČKY -->
      <article class="ph-card span-3 has-art-tr">
        <div class="ph-icon-wrap"><i class="bi bi-badge-ad ph-icon"></i></div>
        <h3 class="ph-title">Viditeľnosť značky</h3>
        <p class="ph-text">Presne viete, kde bude logo — dresy, hala/štadión, livestreamy a sociálne siete.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> inventár viditeľnosti na jednom mieste</li>
          <li><i class="bi bi-check2"></i> náhľady & podmienky použitia</li>
        </ul>
        <svg class="ph-art tr" viewBox="0 0 90 90" aria-hidden="true">
          <circle cx="60" cy="30" r="18" fill="none" stroke="rgba(119,75,251,.35)" stroke-width="3"/>
          <circle cx="60" cy="30" r="11" fill="none" stroke="rgba(119,75,251,.18)" stroke-width="3"/>
          <rect x="6" y="60" width="60" height="8" rx="4" fill="rgba(119,75,251,.12)"/>
        </svg>
      </article>

      <!-- 4) VÝKON & METRIKY -->
      <article class="ph-card span-3 has-art-br">
        <div class="ph-icon-wrap"><i class="bi bi-graph-up-arrow ph-icon"></i></div>
        <h3 class="ph-title">Výkon & metriky</h3>
        <p class="ph-text">Reálny dosah, ER, prekliky a atribúcia naprieč športami aj sieťami. Exporty PDF/CSV.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> UTM / promo kódy</li>
          <li><i class="bi bi-check2"></i> mesačné PDF/CSV</li>
        </ul>
        <svg class="ph-art br" viewBox="0 0 180 90" aria-hidden="true">
          <polyline fill="none" stroke="rgba(119,75,251,.45)" stroke-width="2.2"
            points="0,70 25,58 50,62 75,44 100,50 125,34 150,38 175,28"/>
          <linearGradient id="sparkFillMini" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="rgba(119,75,251,.14)"/>
            <stop offset="1" stop-color="rgba(119,75,251,0)"/>
          </linearGradient>
          <polygon fill="url(#sparkFillMini)"
            points="0,90 0,70 25,58 50,62 75,44 100,50 125,34 150,38 175,28 175,90"/>
        </svg>
      </article>

      <!-- 5) FAKTUROVATEĽNÉ AKO MARKETING -->
      <article class="ph-card span-3 has-art-br">
        <div class="ph-icon-wrap"><i class="bi bi-receipt ph-icon"></i></div>
        <h3 class="ph-title">Fakturovateľné ako marketing</h3>
        <p class="ph-text">Výdavky sú daňovo uznateľné (marketing). Podklady pre účtovníctvo.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> zjednotená fakturácia</li>
          <li><i class="bi bi-check2"></i> doklady k rozpočtu</li>
        </ul>
        <svg class="ph-art br" viewBox="0 0 140 100" aria-hidden="true">
          <rect x="18" y="58" width="110" height="34" rx="7" fill="rgba(119,75,251,.08)" stroke="rgba(119,75,251,.22)"/>
          <rect x="26" y="40" width="94"  height="34" rx="7" fill="rgba(119,75,251,.08)" stroke="rgba(119,75,251,.22)"/>
          <rect x="36" y="24" width="74"  height="32" rx="7" fill="rgba(119,75,251,.12)" stroke="rgba(119,75,251,.32)"/>
        </svg>
      </article>

      <!-- 6) ROZVOJ SLOVENSKÉHO ŠPORTU -->
      <article class="ph-card span-3 has-art-br">
        <div class="ph-icon-wrap"><i class="bi bi-hand-thumbs-up ph-icon"></i></div>
        <h3 class="ph-title">Rozvoj slovenského športu</h3>
        <p class="ph-text">Podpora mládeže a regionálnych klubov. Aktivity s komunitou.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> lokálne aktivácie & CSR</li>
          <li><i class="bi bi-check2"></i> PR dopad v regiónoch</li>
        </ul>
        <svg class="ph-art br" viewBox="0 0 110 90" aria-hidden="true">
          <path d="M55 82 C22 60 14 44 26 32 C36 22 50 28 55 36 C60 28 74 22 84 32 C96 44 88 60 55 82 Z"
                fill="rgba(119,75,251,.16)"/>
        </svg>
      </article>

      <!-- 7) ZABEZPEČENIE PLNENIA DOHODY -->
      <article class="ph-card span-3 has-art-tr">
        <div class="ph-icon-wrap"><i class="bi bi-shield-check ph-icon"></i></div>
        <h3 class="ph-title">Zabezpečenie plnenia dohody</h3>
        <p class="ph-text">Checklisty, schvaľovania, audit log a dôkazy o plnení. Notifikácie & SLA.</p>
        <ul class="ph-list small">
          <li><i class="bi bi-check2"></i> viacstupňové schvaľovania</li>
          <li><i class="bi bi-check2"></i> dôkazy & reporty pre audit</li>
        </ul>
        <svg class="ph-art tr" viewBox="0 0 140 110" aria-hidden="true">
          <path d="M70 10c22 12 44 8 44 8v32c0 28-28 44-44 47-16-3-44-19-44-47V18s22 4 44-8z"
                fill="none" stroke="rgba(18,39,52,.18)" stroke-width="2"/>
          <path d="M70 16c18 10 36 7 36 7v26c0 23-23 37-36 39-13-2-36-16-36-39V23 s18 4 36-7z"
                fill="none" stroke="rgba(119,75,251,.35)" stroke-width="2"/>
        </svg>
      </article>
    </div>

    <div class="integrated-band">
      <p class="integrated-copy">
        <span class="strong">Use one or all.</span>
        <span class="muted"> Best of breed products. Integrated as a platform.</span>
      </p>
    </div>
  </div>
</section>

<!-- ===================== LISTINGS: KLUBY ===================== -->
<section class="py-5">
  <div class="container">
    <div class="d-flex align-items-baseline justify-content-between mb-3">
      <h2 class="h4 fw-bold mb-0 brand-color">Kluby – ukážka</h2>
      <span class="text-secondary small">Detailnejšie dáta zobrazíme po prihlásení</span>
    </div>

    <!-- FILTER: Kluby -->
    <div class="filter-bar mb-3" data-target="#clubs-list">
      <button class="filter-btn is-active" data-filter="*">
        <i class="bi bi-grid-3x3-gap"></i><span>Všetko</span>
      </button>
      {% for s in club_sports %}
        <button class="filter-btn" data-filter="{{ s }}">
          <i class="bi {{ sport_icons.get(s, 'bi-collection') }}"></i><span>{{ s }}</span>
        </button>
      {% endfor %}
    </div>

    <div class="row g-4" id="clubs-list">
      {% for card in clubs %}
      <div class="col-12 col-sm-6 col-lg-4 filter-item" data-sport="{{ card.sport }}">
        <div class="card listing-card h-100 rounded-4">

          <!-- Cover with sport pill -->
          <div class="sp-cover ratio ratio-16x9 rounded-top-4 overflow-hidden">
            <img src="{{ url_for('static', filename=card.cover) }}" class="object-fit-cover" alt="cover {{ card.title }}">
            <span class="sp-sport-pill"><i class="bi bi-flag"></i> {{ card.sport }}</span>
          </div>

          <div class="card-body">
            <!-- Title line -->
            <div class="d-flex gap-2 align-items-start mb-2">
              <img class="lc-avatar" src="{{ url_for('static', filename=card.avatar) }}" alt="">
              <div class="flex-grow-1">
                <div class="sp-title-line">
                  <span class="sp-title-text">{{ card.title }}</span>
                  {% if card.verified %}<i class="bi bi-patch-check-fill sp-verified" title="Overené"></i>{% endif %}
                </div>
                <div class="text-secondary small"><i class="bi bi-geo-alt"></i> {{ card.location }}</div>
              </div>
            </div>

            <p class="text-secondary small mb-3">{{ card.desc }}</p>

            {# TAGS – kebab always shown; disabled when no hidden tags #}
            {% set visible = card.tags[:3] %}
            {% set hidden  = card.tags[3:] %}
            <div class="sp-tag-row">
              {% for t in visible %}
                <span class="sp-tag">{{ t }}</span>
              {% endfor %}

              <details class="sp-tag-fold" data-has-more="{{ 1 if hidden|length > 0 else 0 }}">
                <summary class="sp-tag-kebab" aria-label="Zobraziť ďalšie tagy" title="Zobraziť ďalšie tagy">
                  <svg class="sp-kebab-svg" viewBox="0 0 4 16" width="12" height="16" aria-hidden="true" focusable="false">
                    <circle cx="2" cy="2" r="2"/>
                    <circle cx="2" cy="8" r="2"/>
                    <circle cx="2" cy="14" r="2"/>
                  </svg>
                </summary>
                <div class="sp-more-tags">
                  {% for t in hidden %}
                    <span class="sp-tag">{{ t }}</span>
                  {% endfor %}
                </div>
              </details>
            </div>

            <!-- Stats + Zobraziť -->
            <div class="sp-stat-row">
              <div class="sp-stat-left">
                <span class="sp-stat-chip"><i class="bi bi-broadcast"></i> {{ card.reach }}</span>
                <span class="sp-stat-chip"><i class="bi bi-emoji-smile"></i> ER {{ '%.1f'|format(card.er) }}%</span>
                <span class="sp-stat-chip"><i class="bi bi-cash-coin"></i> od €{{ card.price_from }}</span>
              </div>
              <a href="#" class="sp-view-link">Zobraziť</a>
            </div>
          </div>

        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ===================== LISTINGS: INFLUENCERS ===================== -->
<section class="py-5 pt-0">
  <div class="container">
    <div class="d-flex align-items-baseline justify-content-between mb-3">
      <h2 class="h4 fw-bold mb-0 brand-color">Športovci & Influenceri – ukážka</h2>
      <span class="text-secondary small">Rýchly prehľad výkonu a cien</span>
    </div>

    <!-- FILTER: Influenceri -->
    <div class="filter-bar mb-3" data-target="#influencers-list">
      <button class="filter-btn is-active" data-filter="*">
        <i class="bi bi-grid-3x3-gap"></i><span>Všetko</span>
      </button>
      {% for s in influencer_sports %}
        <button class="filter-btn" data-filter="{{ s }}">
          <i class="bi {{ sport_icons.get(s, 'bi-collection') }}"></i><span>{{ s }}</span>
        </button>
      {% endfor %}
    </div>

    <div class="row g-4" id="influencers-list">
      {% for card in influencers %}
      <div class="col-12 col-sm-6 col-lg-4 filter-item" data-sport="{{ card.sport }}">
        <div class="card listing-card h-100 rounded-4">

          <div class="sp-cover ratio ratio-16x9 rounded-top-4 overflow-hidden">
            <img src="{{ url_for('static', filename=card.cover) }}" class="object-fit-cover" alt="cover {{ card.title }}">
            <span class="sp-sport-pill"><i class="bi bi-person-video3"></i> {{ card.sport }}</span>
          </div>

          <div class="card-body">
            <div class="d-flex gap-2 align-items-start mb-2">
              <img class="lc-avatar" src="{{ url_for('static', filename=card.avatar) }}" alt="">
              <div class="flex-grow-1">
                <div class="sp-title-line">
                  <span class="sp-title-text">{{ card.title }}</span>
                  {% if card.verified %}<i class="bi bi-patch-check-fill sp-verified" title="Overené"></i>{% endif %}
                </div>
                <div class="text-secondary small"><i class="bi bi-geo-alt"></i> {{ card.location }}</div>
              </div>
            </div>

            <p class="text-secondary small mb-3">{{ card.desc }}</p>

            {# TAGS – prvé 3 vonku, zvyšok v <details> #}
            {% set visible = card.tags[:3] %}
            {% set hidden  = card.tags[3:] %}

            {# DEMO: nasimuluj viac tagov pre HKM Nová Dubnica #}
            {% if card.title == 'HKM Nová Dubnica' %}
              {% set hidden = hidden + ['Livestream', 'Mládež', 'YouTube', 'CSR', 'Regionálny zásah'] %}
            {% endif %}

            <div class="sp-tag-row">
              {% for t in visible %}
                <span class="sp-tag">{{ t }}</span>
              {% endfor %}

              {# kebab len ak niečo je navyše #}
              <details class="sp-tag-fold"
                       data-has-more="{{ 1 if hidden|length > 0 else 0 }}"
                       {% if card.title == 'HKM Nová Dubnica' %}open{% endif %}>
                <summary class="sp-tag-kebab" aria-label="Zobraziť ďalšie tagy" title="Zobraziť ďalšie tagy">
                  <svg class="sp-kebab-svg" viewBox="0 0 4 16" width="12" height="16" aria-hidden="true" focusable="false">
                    <circle cx="2" cy="2"  r="2"/>
                    <circle cx="2" cy="8"  r="2"/>
                    <circle cx="2" cy="14" r="2"/>
                  </svg>
                </summary>
                <div class="sp-more-tags">
                  {% for t in hidden %}
                    <span class="sp-tag">{{ t }}</span>
                  {% endfor %}
                </div>
              </details>
            </div>

            <div class="sp-stat-row">
              <div class="sp-stat-left">
                <span class="sp-stat-chip"><i class="bi bi-people"></i> {{ card.reach }}</span>
                <span class="sp-stat-chip"><i class="bi bi-emoji-smile"></i> ER {{ '%.1f'|format(card.er) }}%</span>
                <span class="sp-stat-chip"><i class="bi bi-cash-coin"></i> od €{{ card.price_from }}</span>
              </div>
              <a href="#" class="sp-view-link">Zobraziť</a>
            </div>
          </div>

        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>


<!-- ===================== HOW & FAQ ===================== -->
<section id="how" class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="h4 fw-bold brand-color">Ako to funguje pre veľké firmy</h2>
      <p class="text-secondary mb-0">Rozpočet → Návrh portfólia → Telefónne potvrdenie → Zmluvy → Dashboard</p>
    </div>
    <div class="timeline-steps">
      <div class="tstep">
        <div class="tbadge"><span class="tnum">1</span><i class="bi bi-cash-stack"></i></div>
        <h3 class="h5 fw-bold mt-3 mb-1 brand-color">Rozpočet & preferencie</h3>
        <p class="text-secondary small mb-0">Rozsah, športy, väčšie vs. menšie profily, lokality.</p>
      </div>
      <div class="tconnector"><span></span></div>
      <div class="tstep">
        <div class="tbadge"><span class="tnum">2</span><i class="bi bi-layers"></i></div>
        <h3 class="h5 fw-bold mt-3 mb-1 brand-color">Návrh portfólia</h3>
        <p class="text-secondary small mb-0">Odporučíme diverzifikovaný mix. Firma si ho môže upraviť.</p>
      </div>
      <div class="tconnector"><span></span></div>
      <div class="tstep">
        <div class="tbadge"><span class="tnum">3</span><i class="bi bi-telephone-inbound"></i></div>
        <h3 class="h5 fw-bold mt-3 mb-1 brand-color">Potvrdenie & zmluvy</h3>
        <p class="text-secondary small mb-0">Voláme klubom/športovcom, potvrdíme a podpíšeme.</p>
      </div>
      <div class="tconnector"><span></span></div>
      <div class="tstep">
        <div class="tbadge"><span class="tnum">4</span><i class="bi bi-speedometer2"></i></div>
        <h3 class="h5 fw-bold mt-3 mb-1 brand-color">Dashboard & reporty</h3>
        <p class="text-secondary small mb-0">Zápasy/streamy, obsah, metriky, mesačné PDF/CSV.</p>
      </div>
    </div>
  </div>
</section>

<section id="faq" class="py-5">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="h4 fw-bold brand-color">FAQ</h2>
      <p class="text-secondary mb-0">Platby, portfóliá a reporty</p>
    </div>
    <div class="accordion rounded-4 shadow-sm faq-acc" id="faqAccordion">
      {% for item in faq %}
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button {% if not loop.first %}collapsed{% endif %}" type="button"
                  data-bs-toggle="collapse" data-bs-target="#faq{{ loop.index }}">
            {{ item.q }}
          </button>
        </h2>
        <div id="faq{{ loop.index }}" class="accordion-collapse collapse {% if loop.first %}show{% endif %}" data-bs-parent="#faqAccordion">
          <div class="accordion-body text-secondary">{{ item.a }}</div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- === Minimal CSS pre filter + JS filtrovanie (self-contained) === -->
<style>
  .filter-bar{ display:flex; flex-wrap:wrap; gap:8px; }
  .filter-btn{
    display:inline-flex; align-items:center; gap:.4rem;
    padding:.36rem .6rem; border:1px solid var(--border);
    border-radius:999px; background:#fff; color:#0e1116;
    font-size:.86rem; line-height:1; cursor:pointer;
    transition:background .2s ease, border-color .2s ease, color .2s ease, box-shadow .2s ease;
  }
  .filter-btn i{ font-size:1rem; }
  .filter-btn:hover{ background:#f6f8fb; }
  .filter-btn.is-active{
    background:linear-gradient(135deg, rgba(119,75,251,.12), rgba(119,75,251,.06)), #fff;
    border-color:#e6ddff; color:#3b2a85; box-shadow:0 2px 0 rgba(119,75,251,.06) inset;
  }
</style>
<script>
  (function(){
    const norm = s => (s || "").toString().toLowerCase()
      .normalize('NFD').replace(/[\u0300-\u036f]/g, '').trim();

    function setupFilterBar(bar){
      const targetSel = bar.getAttribute('data-target');
      const list = document.querySelector(targetSel);
      if(!list) return;
      const items = Array.from(list.querySelectorAll('.filter-item'));

      bar.addEventListener('click', (e) => {
        const btn = e.target.closest('.filter-btn');
        if(!btn) return;

        bar.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('is-active'));
        btn.classList.add('is-active');

        const filter = btn.getAttribute('data-filter');
        if(filter === '*'){
          items.forEach(it => it.style.display = '');
          return;
        }
        const f = norm(filter);
        items.forEach(it => {
          const sport = norm(it.getAttribute('data-sport'));
          it.style.display = (sport === f) ? '' : 'none';
        });
      });
    }

    document.querySelectorAll('.filter-bar').forEach(setupFilterBar);
  })();
</script>

{% endblock %}
